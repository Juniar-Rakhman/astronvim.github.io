<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Configuration/v2_migration">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Migration to v2.0 | AstroNvim</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://astronvim.github.io/nightly/Configuration/v2_migration"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="vim, lua, neovim, ide, nvim, nvim-configuration, neovim-lua, neovim-config, neovim-setup, astrovim, astronvim, astro"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Migration to v2.0 | AstroNvim"><meta data-rh="true" name="description" content="AstroNvim requires the migration to Neovim v0.8 to use the new APIs and features. Please refer to the Neovim v0.8 changelog and review the breaking changes to see if any of the Lua that you have in your user configuration for AstroNvim needs to be updated to follow the new APIs as well."><meta data-rh="true" property="og:description" content="AstroNvim requires the migration to Neovim v0.8 to use the new APIs and features. Please refer to the Neovim v0.8 changelog and review the breaking changes to see if any of the Lua that you have in your user configuration for AstroNvim needs to be updated to follow the new APIs as well."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://astronvim.github.io/nightly/Configuration/v2_migration"><link data-rh="true" rel="alternate" href="https://astronvim.github.io/nightly/Configuration/v2_migration" hreflang="en"><link data-rh="true" rel="alternate" href="https://astronvim.github.io/nightly/Configuration/v2_migration" hreflang="x-default"><link rel="preconnect" href="https://matomo.mehalter.com/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://matomo.mehalter.com/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","9"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script><link rel="stylesheet" href="/assets/css/styles.2c37ae1b.css">
<link rel="preload" href="/assets/js/runtime~main.e4b5be60.js" as="script">
<link rel="preload" href="/assets/js/main.2182937a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo/astronvim.svg" alt="AstroNvim Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo/astronvim.svg" alt="AstroNvim Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">AstroNvim</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/nightly">nightly</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/nightly/Configuration/v2_migration">nightly</a></li><li><a class="dropdown__link" href="/Configuration/v2_migration">2.2.0</a></li><li><a class="dropdown__link" href="/2.1.0/Configuration/v2_migration">2.1.0</a></li><li><a class="dropdown__link" href="/2.0.0/Configuration/v2_migration">2.0.0</a></li><li><a class="dropdown__link" href="/1.9.0">1.9.0</a></li><li><a class="dropdown__link" href="/1.8.0">1.8.0</a></li><li><a class="dropdown__link" href="/1.7.0">1.7.0</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/AstroNvim/AstroNvim" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nightly">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/nightly/Basic Usage/walkthrough">Basic Usage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/nightly/Configuration/manage_user_config">Configuration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nightly/Configuration/manage_user_config">Managing User Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nightly/Configuration/basic_configuration">Basic Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nightly/Configuration/config_mechanism">Configuration Mechanism</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nightly/Configuration/config_options">Available User Options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nightly/Configuration/override_formats">Override Formats</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nightly/Configuration/plugin_defaults">Default Plugin Configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nightly/Configuration/splitting_up">Splitting Up Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nightly/Configuration/updater">Managing AstroNvim Updates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/nightly/Configuration/v2_migration">Migration to v2.0</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/nightly/Recipes/black_belt">Recipes</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nightly/acknowledgements">Acknowledgements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://astronvim.github.io/AstroNvim" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">Core Lua API Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->AstroNvim<!-- --> <b>nightly</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/Configuration/v2_migration">latest version</a></b> (<!-- -->2.2.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Configuration</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Migration to v2.0</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: nightly</span><div class="theme-doc-markdown markdown"><h1>Migrating from v1.x to v2.0</h1><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>AstroNvim requires the migration to Neovim v0.8 to use the new APIs and features. Please refer to the Neovim v0.8 changelog and review the breaking changes to see if any of the Lua that you have in your user configuration for AstroNvim needs to be updated to follow the new APIs as well.</p></div></div><ul><li><p><strong>Updater changes:</strong> Stable AstroNvim is now the default behavior of installing AstroNvim without any user configuration. This will mean slower updates as well as pinning provided plugins to protect against breaking changes. You can opt into the <code>nightly</code> update channel through your user configuration with the <code>updater</code> table. We have also enabled automatically syncing plugins and quitting AstroNvim on a successful update which will then require a relaunch to start using the new update as quickly as possible. All of these options can also be configured in the <code>updater</code> configuration table. If you want to achieve the previous update behavior of AstroNvim, you can put the following <code>updater</code> settings in your user configuration:</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#1e222a;--prism-color:#abb2bf"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#abb2bf"><span class="token plain">updater </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  </span><span class="token comment" style="color:#777d86">-- get nightly updates</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  channel </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token string" style="color:#98c379">&quot;nightly&quot;</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  </span><span class="token comment" style="color:#777d86">-- disable automatically reloading AstroNvim after an update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  auto_reload </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c678dd">false</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  </span><span class="token comment" style="color:#777d86">-- disable automatically quitting AstroNvim after an update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  auto_quit </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c678dd">false</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain"></span><span class="token punctuation" style="color:#777d86">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>We have also deprecated the configuration item <code>plugins.nvim-lsp-installer</code> as we have since moved to <code>mason-lspconfig</code>. if you have <code>nvim-lsp-installer</code> configuration in your <code>user/init.lua</code> file or the file <code>user/plugins/nvim-lsp-installer.lua</code>, this should be replaced with <code>mason-lspconfig</code>.</p></li><li><p>With the maturity of mason specific plugins <code>mason-lspconfig</code> and <code>mason-null-ls</code> we are going to remove <code>mason-tool-installer.nvim</code> as a provided plugin. <code>mason-lspconfig</code> provides a way to automatically install language servers and <code>mason-null-ls</code> can automatically install null-ls sources. These plugins also provide functionality for letting us set things up so the tool installer plugin is nearly down to no use. If you use Mason to automatically install debuggers and want to add it back please add this plugin to your <code>user/init.lua</code> file in your <code>plugins.init</code> table with this:</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#1e222a;--prism-color:#abb2bf"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#abb2bf"><span class="token punctuation" style="color:#777d86">[</span><span class="token string" style="color:#98c379">&quot;WhoIsSethDaniel/mason-tool-installer.nvim&quot;</span><span class="token punctuation" style="color:#777d86">]</span><span class="token plain"> </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  after </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token string" style="color:#98c379">&quot;mason.nvim&quot;</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  config </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c678dd">function</span><span class="token punctuation" style="color:#777d86">(</span><span class="token punctuation" style="color:#777d86">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    </span><span class="token function" style="color:#e5c07b">require</span><span class="token punctuation" style="color:#777d86">(</span><span class="token string" style="color:#98c379">&quot;mason-tool-installer&quot;</span><span class="token punctuation" style="color:#777d86">)</span><span class="token punctuation" style="color:#777d86">.</span><span class="token function" style="color:#e5c07b">setup</span><span class="token punctuation" style="color:#777d86">(</span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">      </span><span class="token comment" style="color:#777d86">-- your config for the plugin here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    </span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  </span><span class="token keyword" style="color:#c678dd">end</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain"></span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Formatting has been greatly improved with Neovim v0.8 that doesn&#x27;t require users to disable formatting capabilities for any LSP clients. It allows for filtering of clients that have formatting enabled as well as formatting with multiple language servers without having to select a specific one to use. We have added a new <code>lsp.formatting</code> option to the user configuration that allow users to easily control the filter function and disable language servers more easily. If you are disabling formatting capabilities of any LSP clients in your <code>lsp.server-settings</code> configuration, we would recommend that you remove that and try out formatting without disabling anything. If you need to disable formatting for clients, check out the new <a href="/nightly/Recipes/advanced_lsp#controlling-formatting">LSP Formatting Documentation</a>.</p></li><li><p>Format on save is now a default behavior of AstroNvim. We have also combined the <code>on_attach</code> for language servers and <code>null-ls</code> together. If you are setting up automatic saving in your <code>plugins.null-ls</code> table with the <code>on_attach</code> function, you can remove this all together. We recommend removing the entire <code>on_attach</code> function for <code>null-ls</code> and do all the configuration within the <code>lsp.on_attach</code> function in your user configuration.</p></li><li><p>The <code>&lt;leader&gt;p</code> menu option for syncing and checking <code>Packer</code> has been reworked to be a general menu for checking and updating packages, plugins, and AstroNvim itself. This also includes remapping <code>&lt;leader&gt;lI</code> which was the LSP Installer to <code>&lt;leader&gt;pI</code> to open the Mason Installer since it is a general purpose package installer and not just language servers</p></li><li><p>We have replaced Feline with the plugin <a href="https://github.com/rebelot/heirline.nvim" target="_blank" rel="noopener noreferrer"><code>Heirline.nvim</code></a>. This provides us with a much more powerful way to provide custom statusline and winbar support to AstroNvim. This has also come with a new module <code>astronvim.status</code> that will provide many building blocks for creating custom statuslines for users if they want to modify the default bar. We have also provided new documentation for this at <a href="/nightly/Recipes/status">Recipes/Customizing Statusline</a></p></li><li><p><code>cinnamon.nvim</code> has been removed from the default plugin list. If you liked the smooth scrolling, please add it back to your <code>plugins.init</code> table in your user configuration. If you have previously disabled it then you no longer need to.</p></li><li><p><code>which-key.register_mappings</code> key has been simplified to just <code>which-key.register</code>. If you have <code>register_mappings</code> table in your <code>user/init.lua</code> file then simply rename it to <code>register</code>. If you have the file <code>user/which-key/register_mappings.lua</code> for your configuration, just simply rename that file to <code>user/which-key/register.lua</code></p></li><li><p><code>default_theme.diagnostics_style</code> has been deprecated in favor of the improved <code>highlights</code> configuration table which allows you to easily override any highlight group in the theme before it gets set. To achieve the same functionality as the <code>default_theme.diagnostics_style</code> you include this in your <code>user/init.lua</code> configuration table:</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#1e222a;--prism-color:#abb2bf"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#abb2bf"><span class="token plain">default_theme </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  highlights </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c678dd">function</span><span class="token punctuation" style="color:#777d86">(</span><span class="token plain">hl</span><span class="token punctuation" style="color:#777d86">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    </span><span class="token comment" style="color:#777d86">-- New approach instead of diagnostic_style</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    hl</span><span class="token punctuation" style="color:#777d86">.</span><span class="token plain">DiagnosticError</span><span class="token punctuation" style="color:#777d86">.</span><span class="token plain">italic </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c678dd">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    hl</span><span class="token punctuation" style="color:#777d86">.</span><span class="token plain">DiagnosticHint</span><span class="token punctuation" style="color:#777d86">.</span><span class="token plain">italic </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c678dd">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    hl</span><span class="token punctuation" style="color:#777d86">.</span><span class="token plain">DiagnosticInfo</span><span class="token punctuation" style="color:#777d86">.</span><span class="token plain">italic </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c678dd">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    hl</span><span class="token punctuation" style="color:#777d86">.</span><span class="token plain">DiagnosticWarn</span><span class="token punctuation" style="color:#777d86">.</span><span class="token plain">italic </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c678dd">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    </span><span class="token keyword" style="color:#c678dd">return</span><span class="token plain"> hl</span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  </span><span class="token keyword" style="color:#c678dd">end</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain"></span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>We have removed the default escape bindings for the terminal mode. This caused a lot of frictions with users who wanted to use terminal interfaces within AstroNvim. We have also changed the <code>&lt;C-\&gt;</code> binding to be <code>&lt;F7&gt;</code> for toggling the terminal since this conflicted with a very useful default binding. The following are the mappings that were removed just in case anyone wants to add them back:</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#1e222a;--prism-color:#abb2bf"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#abb2bf"><span class="token plain">mappings </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  n </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    </span><span class="token punctuation" style="color:#777d86">[</span><span class="token string" style="color:#98c379">&quot;&lt;C-\\&gt;&quot;</span><span class="token punctuation" style="color:#777d86">]</span><span class="token plain"> </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"> </span><span class="token string" style="color:#98c379">&quot;&lt;cmd&gt;ToggleTerm&lt;cr&gt;&quot;</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"> desc </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token string" style="color:#98c379">&quot;Toggle terminal&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  </span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  t </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    </span><span class="token punctuation" style="color:#777d86">[</span><span class="token string" style="color:#98c379">&quot;&lt;esc&gt;&quot;</span><span class="token punctuation" style="color:#777d86">]</span><span class="token plain"> </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"> </span><span class="token string" style="color:#98c379">&quot;&lt;C-\\&gt;&lt;C-n&gt;&quot;</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"> desc </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token string" style="color:#98c379">&quot;Terminal normal mode&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    </span><span class="token punctuation" style="color:#777d86">[</span><span class="token string" style="color:#98c379">&quot;jk&quot;</span><span class="token punctuation" style="color:#777d86">]</span><span class="token plain"> </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"> </span><span class="token string" style="color:#98c379">&quot;&lt;C-\\&gt;&lt;C-n&gt;&quot;</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"> desc </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token string" style="color:#98c379">&quot;Terminal normal mode&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  </span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain"></span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>We have added a new UI menu (<code>&lt;leader&gt;u</code>) for quickly toggling UI/UX elements of AstroNvim. Ranging from toggling completion and syntax highlighting to toggling indentation level. Previously <code>&lt;leader&gt;u</code> was used by default to toggle underlining URLs, but this has been moved to within the new UI menu. New Mappings:</p><table><thead><tr><th>Action</th><th>Mappings</th></tr></thead><tbody><tr><td>Toggle autopairs</td><td><code>Space + ua</code></td></tr><tr><td>Toggle background</td><td><code>Space + ub</code></td></tr><tr><td>Toggle autocompletion</td><td><code>Space + uc</code></td></tr><tr><td>Toggle color highlights</td><td><code>Space + uC</code></td></tr><tr><td>Toggle diagnostics</td><td><code>Space + ud</code></td></tr><tr><td>Toggle signcolumn</td><td><code>Space + ug</code></td></tr><tr><td>Change indent setting</td><td><code>Space + ui</code></td></tr><tr><td>Change line numbering</td><td><code>Space + un</code></td></tr><tr><td>Toggle spellcheck</td><td><code>Space + up</code></td></tr><tr><td>Toggle URL highlight</td><td><code>Space + uu</code></td></tr><tr><td>Toggle wrap</td><td><code>Space + uw</code></td></tr><tr><td>Toggle syntax highlight</td><td><code>Space + uy</code></td></tr></tbody></table></li><li><p>We have deprecated the <code>ui</code> configuration table for enabling and disabling using <code>nui</code> and <code>telescope</code> for <code>input</code> and <code>select</code> windows. This has been replaced with the plugin <code>dressing</code> now that it is back in active development. These features can be controlled with overriding the <code>dressing</code> setup with <code>plugins.dressing</code> table or the file <code>user/plugins/dressing.lua</code>. If you have not disabled any of the <code>ui</code> elements then you don&#x27;t need to add anything. If you have set either of them to false, you will want to add the following to your user configuration:</p><ul><li><code>ui.nui_input = false</code>, the following should be added to your <code>user/init.lua</code> to override the dressing settings:<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#1e222a;--prism-color:#abb2bf"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#abb2bf"><span class="token plain">plugins </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  dressing </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    input </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"> enabled </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c678dd">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  </span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain"></span><span class="token punctuation" style="color:#777d86">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><code>ui.telescope_select = false</code>, the following should be added to your <code>user/init.lua</code> to override the dressing settings:<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#1e222a;--prism-color:#abb2bf"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#abb2bf"><span class="token plain">plugins </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  dressing </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    select </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"> enabled </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c678dd">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  </span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain"></span><span class="token punctuation" style="color:#777d86">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>To disable both, you can either disable both the <code>input</code> and <code>select</code> items in the <code>dressing</code> configuration or you can just disable the <code>dressing</code> plugin altogether:<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#1e222a;--prism-color:#abb2bf"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#abb2bf"><span class="token plain">plugins </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  init </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">    </span><span class="token punctuation" style="color:#777d86">[</span><span class="token string" style="color:#98c379">&quot;stevearc/dressing.nvim&quot;</span><span class="token punctuation" style="color:#777d86">]</span><span class="token plain"> </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">{</span><span class="token plain"> disable </span><span class="token operator" style="color:#c678dd">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c678dd">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain">  </span><span class="token punctuation" style="color:#777d86">}</span><span class="token punctuation" style="color:#777d86">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#abb2bf"><span class="token plain"></span><span class="token punctuation" style="color:#777d86">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li><p><code>configs/lsp/handlers.lua</code> has been moved to <code>lua/core/utils/lsp.lua</code>. If you are doing <code>require(&quot;configs.lsp.handlers&quot;)</code> anywhere, you should move to using <code>astronvim.lsp</code></p></li><li><p>We have replaced a couple of the terminal applications we have out of the box support for. We have replaced <code>NCDU</code> with <a href="https://github.com/dundee/gdu" target="_blank" rel="noopener noreferrer"><code>gdu</code></a> and <code>htop</code> with <a href="https://github.com/ClementTsang/bottom" target="_blank" rel="noopener noreferrer"><code>bottom</code></a>. This is to provide out of the box options that are cross platform supported. The following bindings have been updated:</p><ul><li><code>Space + tu</code> will now open <code>gdu</code> instead of <code>ncdu</code></li><li><code>Space + tt</code> will now open <code>btm</code> instead of <code>top</code></li></ul></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/nightly/Configuration/updater"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Managing AstroNvim Updates</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/nightly/Recipes/black_belt"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Black Belt Example User Configs</div></a></nav></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.e4b5be60.js"></script>
<script src="/assets/js/main.2182937a.js"></script>
</body>
</html>